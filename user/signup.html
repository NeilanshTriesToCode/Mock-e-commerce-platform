<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign up</title>

    <link rel="stylesheet" href="../UI/general.css">
    <link rel="stylesheet" href="../UI/forms.css">

    <script type="text/javascript">
        window.onload = function(){
            var form = document.getElementById('signup_form');
            form.onsubmit = function(e){
                checkFields(event);
            }
        }

        // function to check fields
        function checkFields(event){
            var firstname = document.getElementById('firstname');
            var lastname = document.getElementById('lastname');
            var email = document.getElementById('email');
            var password = document.getElementById('password');   
            var password_check = document.getElementById('password_check');     
            // creating an array of required fields to check field validity
            var required_fields = [firstname, lastname, email, password, password_check];

            for(var i = 0; i < required_fields.length; i++){
                if(required_fields[i].value.length == 0){     // if a field is empty
                    alert('One or more fields are empty');
                    event.preventDefault();               
                }
            }
            
            // check if passwords match
            if(password.value.localeCompare(password_check.value) != 0){  // passwords don't match
                alert('Passwords don\'t match');
                event.preventDefault();
            }
        }
    </script>
</head>
<body>
    <form id="signup_form" action="createUser.php" method="POST" style="text-align: center">
        <h1>Create account</h1>

        <div style="margin: 10px">
            <input type="text" id="firstname" name="firstname" placeholder="firstname"><br>
        </div>

        <div style="margin: 10px">
            <input type="text" id="lastname" name="lastname" placeholder="lastname"><br>
        </div>

        <div style="margin: 10px">
            <input type="email" id="email" name="email" placeholder="email"><br>
        </div>

        <div style="margin: 10px">
            <input type="password" id="password" name="password" placeholder="password"><br>
        </div>

        <div style="margin: 10px">
            <input type="password" id="password_check" name="password_check" placeholder="re-enter password"><br>
        </div>

        <div style="text-align: center; margin: 10px">
            <input class="buttons" type="submit" value="Create">
        </div>
    </form>     
</body>
</html>